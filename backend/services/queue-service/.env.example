# ================================================
# QUEUE-SERVICE ENVIRONMENT CONFIGURATION
# ================================================
# Generated: Tue Aug 12 13:18:17 EDT 2025
# Service: queue-service
# Port: 3011
# ================================================

# ==== REQUIRED: Core Service Configuration ====
NODE_ENV=development                    # development | staging | production
PORT=3011                              # Service port (must match Dockerfile EXPOSE)
SERVICE_NAME=queue-service           # Service identifier

# ==== REQUIRED: Database Configuration ====
DB_HOST=localhost                       # Database host
DB_PORT=5432                           # PostgreSQL port (5432) or pgBouncer (6432)
DB_USER=postgres                       # Database user
DB_PASSWORD=your-secure-password-here  # Database password - Generate with: openssl rand -base64 32
DB_NAME=tickettoken_db                 # Database name
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ==== Database Connection Pool ====
DB_POOL_MIN=2                          # Minimum pool connections
DB_POOL_MAX=10                         # Maximum pool connections

# ==== REQUIRED: Redis Configuration ====
REDIS_HOST=localhost                   # Redis host
REDIS_PORT=6379                       # Redis port
REDIS_PASSWORD=your-redis-password-here # Redis password - Generate with: openssl rand -base64 32
REDIS_DB=0                            # Default Redis database number
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==== Redis Database Allocation (Configurable) ====
REDIS_DB_MONEY=1                      # Money queue (high priority, critical jobs)
REDIS_DB_COMM=2                       # Communication queue (emails, SMS)
REDIS_DB_BG=3                         # Background queue (analytics, reports)
REDIS_DB_IDEM=4                       # Idempotency keys
REDIS_DB_RATE=5                       # Rate limiting

# ==== REQUIRED: Security Configuration ====
JWT_SECRET=your-jwt-secret-here        # JWT signing secret - Generate with: openssl rand -base64 32
                                       # CRITICAL: Must be same across all services
JWT_EXPIRES_IN=15m                    # Access token expiration
JWT_REFRESH_EXPIRES_IN=7d             # Refresh token expiration
JWT_ALGORITHM=HS256                   # JWT algorithm
JWT_ISSUER=tickettoken                # JWT issuer
JWT_AUDIENCE=tickettoken-platform     # JWT audience

# ==== REQUIRED: Service Discovery ====
# Internal service URLs for service-to-service communication (only services called by queue-service)
PAYMENT_SERVICE_URL=http://localhost:3005      # For processing payments via Stripe
NOTIFICATION_SERVICE_URL=http://localhost:3008  # For sending emails/SMS
BLOCKCHAIN_SERVICE_URL=http://localhost:3015    # For NFT minting operations
ANALYTICS_SERVICE_URL=http://localhost:3007     # For tracking analytics events

# ==== Optional: Monitoring & Logging ====
LOG_LEVEL=info                                # debug | info | warn | error
LOG_FORMAT=json                               # json | pretty
ENABLE_METRICS=true                          # Enable Prometheus metrics
METRICS_PORT=9090                            # Metrics endpoint port

# ==== Optional: Feature Flags ====
ENABLE_RATE_LIMITING=true                    # Enable rate limiting
RATE_LIMIT_WINDOW_MS=60000                  # Rate limit window (1 minute)
RATE_LIMIT_MAX_REQUESTS=100                 # Max requests per window

# ==== Job Retry Configuration (Configurable per job type) ====
RETRY_PAYMENT=10                            # Max retry attempts for payment jobs
RETRY_REFUND=10                             # Max retry attempts for refund jobs
RETRY_NFT_MINT=5                            # Max retry attempts for NFT minting
RETRY_PAYOUT=8                              # Max retry attempts for payouts
RETRY_EMAIL=5                               # Max retry attempts for emails
RETRY_SMS=3                                 # Max retry attempts for SMS
RETRY_ANALYTICS=2                           # Max retry attempts for analytics events

# ==== REQUIRED: Stripe Configuration (Phase 1) ====
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here  # Stripe API Secret Key (from Stripe Dashboard)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_pub_key    # Stripe Publishable Key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret        # Stripe Webhook Signing Secret
STRIPE_API_VERSION=2023-10-16                          # Stripe API version to use

# ==== REQUIRED: Solana Configuration (Phase 2) ====
SOLANA_RPC_URL=https://api.devnet.solana.com          # Solana RPC endpoint (devnet/mainnet-beta)
SOLANA_NETWORK=devnet                                  # devnet | testnet | mainnet-beta
SOLANA_PRIVATE_KEY=your_base58_private_key_here       # Base58 encoded wallet private key
                                                       # Generate with: solana-keygen new --outfile wallet.json
SOLANA_COMMITMENT=confirmed                            # confirmed | finalized | processed
SOLANA_MAX_RETRIES=3                                   # Max retry attempts for transactions
SOLANA_TIMEOUT_MS=60000                                # Transaction timeout (60 seconds)

# ==== Environment-Specific Overrides ====
# Add any environment-specific configurations below
# These will override the defaults above based on NODE_ENV
