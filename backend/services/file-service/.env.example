# ================================================
# FILE-SERVICE ENVIRONMENT CONFIGURATION
# ================================================
# Generated: Tue Aug 12 13:18:17 EDT 2025
# Service: file-service
# Port: 3013
# ================================================

# ==== REQUIRED: Core Service Configuration ====
NODE_ENV=development                    # development | staging | production
PORT=<PORT_NUMBER>         # Service port
SERVICE_NAME=file-service           # Service identifier

# ==== REQUIRED: Redis Configuration ====
REDIS_HOST=localhost                   # Redis host
REDIS_PORT=6379                       # Redis port
REDIS_PASSWORD=<REDIS_PASSWORD>       # Redis password (if auth enabled)
REDIS_DB=0                            # Redis database number
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==== REQUIRED: Security Configuration ====
JWT_SECRET=<CHANGE_TO_256_BIT_SECRET> # JWT signing secret (min 32 chars)
JWT_EXPIRES_IN=15m                    # Access token expiration
JWT_REFRESH_EXPIRES_IN=7d             # Refresh token expiration
JWT_ALGORITHM=HS256                   # JWT algorithm
JWT_ISSUER=tickettoken                # JWT issuer
JWT_AUDIENCE=tickettoken-platform     # JWT audience

# ==== REQUIRED: Service Discovery ====
# Internal service URLs for service-to-service communication
AUTH_SERVICE_URL=http://localhost:3001
VENUE_SERVICE_URL=http://localhost:3002
EVENT_SERVICE_URL=http://localhost:3003
TICKET_SERVICE_URL=http://localhost:3004
PAYMENT_SERVICE_URL=http://localhost:3005
MARKETPLACE_SERVICE_URL=http://localhost:3008
ANALYTICS_SERVICE_URL=http://localhost:3007
NOTIFICATION_SERVICE_URL=http://localhost:3008
INTEGRATION_SERVICE_URL=http://localhost:3009
COMPLIANCE_SERVICE_URL=http://localhost:3010
QUEUE_SERVICE_URL=http://localhost:3011
SEARCH_SERVICE_URL=http://localhost:3012
FILE_SERVICE_URL=http://localhost:3013
MONITORING_SERVICE_URL=http://localhost:3014
BLOCKCHAIN_SERVICE_URL=http://localhost:3015
ORDER_SERVICE_URL=http://localhost:3016

# ==== Optional: Monitoring & Logging ====
LOG_LEVEL=info                                # debug | info | warn | error
LOG_FORMAT=json                               # json | pretty
ENABLE_METRICS=true                          # Enable Prometheus metrics
METRICS_PORT=9090                            # Metrics endpoint port

# ==== Optional: Feature Flags ====
ENABLE_RATE_LIMITING=true                    # Enable rate limiting
RATE_LIMIT_WINDOW_MS=60000                  # Rate limit window (1 minute)
RATE_LIMIT_MAX_REQUESTS=100                 # Max requests per window

# ==== REQUIRED: Database Configuration ====
DATABASE_URL=postgresql://user:password@localhost:5432/tickettoken
DATABASE_POOL_MIN=2                          # Minimum pool size
DATABASE_POOL_MAX=10                         # Maximum pool size
DATABASE_TIMEOUT=30000                       # Connection timeout (ms)

# ==== REQUIRED: Storage Provider Configuration ====
# CRITICAL: Set to 's3' for production, 'local' for development only
STORAGE_PROVIDER=local                       # 'local' or 's3' (MUST be 's3' in production)
LOCAL_STORAGE_PATH=./uploads                 # Path for local file storage (dev only)
TEMP_STORAGE_PATH=./temp                     # Temporary file processing path

# ==== AWS S3 Configuration (REQUIRED if STORAGE_PROVIDER=s3) ====
AWS_REGION=us-east-1                         # AWS region
AWS_ACCESS_KEY_ID=<YOUR_AWS_ACCESS_KEY>      # AWS access key
AWS_SECRET_ACCESS_KEY=<YOUR_AWS_SECRET>      # AWS secret key
S3_BUCKET_NAME=tickettoken-files             # S3 bucket name for file storage
CDN_DOMAIN=                                  # Optional: CloudFront CDN domain (e.g., cdn.example.com)

# ==== File Size Limits (in MB) ====
MAX_FILE_SIZE_MB=100                         # General maximum file size
MAX_IMAGE_SIZE_MB=10                         # Maximum image file size
MAX_VIDEO_SIZE_MB=500                        # Maximum video file size
MAX_DOCUMENT_SIZE_MB=50                      # Maximum document file size
CHUNK_SIZE_MB=5                              # Chunk size for multipart uploads

# ==== Allowed File Types (comma-separated MIME types) ====
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/gif,image/webp
ALLOWED_DOCUMENT_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain
ALLOWED_VIDEO_TYPES=video/mp4,video/quicktime,video/x-msvideo,video/webm

# ==== ClamAV Antivirus Configuration ====
CLAMAV_HOST=localhost                        # ClamAV daemon host
CLAMAV_PORT=3310                             # ClamAV daemon port
ENABLE_VIRUS_SCAN=true                       # Enable virus scanning on uploads
QUARANTINE_PATH=/var/quarantine              # Path for quarantined infected files

# ==== Image Processing Configuration ====
THUMBNAIL_WIDTH=200                          # Default thumbnail width (pixels)
THUMBNAIL_HEIGHT=200                         # Default thumbnail height (pixels)
THUMBNAIL_QUALITY=80                         # JPEG quality for thumbnails (0-100)
WATERMARK_ENABLED=false                      # Enable watermarking on images
WATERMARK_TEXT=Â© TicketToken                 # Watermark text
WATERMARK_OPACITY=0.5                        # Watermark opacity (0.0-1.0)
WATERMARK_POSITION=bottom-right              # Watermark position
STRIP_EXIF=true                              # Strip EXIF metadata from images (privacy)
IMAGE_OPTIMIZATION_ENABLED=true              # Enable automatic image optimization

# ==== Video Processing Configuration ====
VIDEO_TRANSCODE_ENABLED=true                 # Enable video transcoding
VIDEO_THUMBNAIL_TIME=00:00:01                # Time to extract video thumbnail
VIDEO_SUPPORTED_CODECS=h264,vp9              # Supported video codecs

# ==== Document Processing Configuration ====
PDF_MAX_PAGES=500                            # Maximum pages for PDF processing
ENABLE_OCR=false                             # Enable OCR text extraction
OCR_LANGUAGE=eng                             # OCR language (requires Tesseract)

# ==== QR Code Configuration ====
QR_CODE_SIZE=300                             # Default QR code size (pixels)
QR_CODE_ERROR_CORRECTION=M                   # Error correction level (L, M, Q, H)

# ==== File Access & Security ====
SIGNED_URL_EXPIRY=3600                       # Signed URL expiration (seconds)
DEFAULT_FILE_ACCESS_LEVEL=private            # Default access level for new files
ENABLE_FILE_ACCESS_LOGGING=true              # Log all file access operations

# ==== Performance & Caching ====
ENABLE_CACHE=true                            # Enable caching
CACHE_TTL=3600                               # Cache TTL in seconds
FILE_PROCESSING_TIMEOUT=300000               # File processing timeout (ms)
MAX_CONCURRENT_UPLOADS=10                    # Maximum concurrent uploads per user

# ==== Environment-Specific Overrides ====
# Add any environment-specific configurations below
# These will override the defaults above based on NODE_ENV
