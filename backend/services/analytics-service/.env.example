# ================================================
# ANALYTICS-SERVICE ENVIRONMENT CONFIGURATION
# ================================================
# Generated: Tue Aug 12 13:18:17 EDT 2025
# Service: analytics-service
# Port: 3010
# ================================================

# ==== REQUIRED: Core Service Configuration ====
NODE_ENV=development                    # development | staging | production
PORT=3010                              # Service port
SERVICE_NAME=analytics-service           # Service identifier

# ==== REQUIRED: Database Configuration ====
DB_HOST=localhost                       # Database host
DB_PORT=5432                           # PostgreSQL port (5432) or pgBouncer (6432)
DB_USER=postgres                       # Database user
DB_PASSWORD=<CHANGE_ME>                # Database password
DB_NAME=tickettoken_db                 # Database name
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ==== Database Connection Pool ====
DB_POOL_MIN=2                          # Minimum pool connections
DB_POOL_MAX=10                         # Maximum pool connections

# ==== REQUIRED: Redis Configuration ====
REDIS_HOST=localhost                   # Redis host
REDIS_PORT=6379                       # Redis port
REDIS_PASSWORD=<REDIS_PASSWORD>       # Redis password (if auth enabled)
REDIS_DB=0                            # Redis database number
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==== REQUIRED: Security Configuration ====
JWT_SECRET=<CHANGE_TO_256_BIT_SECRET> # JWT signing secret (min 32 chars)
JWT_EXPIRES_IN=15m                    # Access token expiration
JWT_REFRESH_EXPIRES_IN=7d             # Refresh token expiration
JWT_ALGORITHM=HS256                   # JWT algorithm
JWT_ISSUER=tickettoken                # JWT issuer
JWT_AUDIENCE=tickettoken-platform     # JWT audience

# ==== REQUIRED: Service Discovery ====
# Internal service URLs for service-to-service communication
AUTH_SERVICE_URL=http://localhost:3001
VENUE_SERVICE_URL=http://localhost:3002
EVENT_SERVICE_URL=http://localhost:3003
TICKET_SERVICE_URL=http://localhost:3004
PAYMENT_SERVICE_URL=http://localhost:3005
MARKETPLACE_SERVICE_URL=http://localhost:3008
ANALYTICS_SERVICE_URL=http://localhost:3010
NOTIFICATION_SERVICE_URL=http://localhost:3008
INTEGRATION_SERVICE_URL=http://localhost:3009
COMPLIANCE_SERVICE_URL=http://localhost:3010
QUEUE_SERVICE_URL=http://localhost:3011
SEARCH_SERVICE_URL=http://localhost:3012
FILE_SERVICE_URL=http://localhost:3013
MONITORING_SERVICE_URL=http://localhost:3014
BLOCKCHAIN_SERVICE_URL=http://localhost:3015
ORDER_SERVICE_URL=http://localhost:3016

# ==== Analytics Database (Optional) ====
ANALYTICS_DB_HOST=localhost                    # Analytics DB host
ANALYTICS_DB_PORT=5432                        # Analytics DB port
ANALYTICS_DB_NAME=tickettoken_analytics       # Analytics DB name
ANALYTICS_DB_USER=analytics_user              # Analytics DB user
ANALYTICS_DB_PASSWORD=<CHANGE_ME>             # Analytics DB password

# ==== MongoDB Configuration (Optional) ====
MONGODB_ENABLED=false                        # Enable MongoDB integration (set to 'true' to enable)
MONGODB_URI=mongodb://localhost:27017/analytics
MONGODB_HOST=localhost                        # MongoDB host
MONGODB_PORT=27017                           # MongoDB port
MONGODB_DB=tickettoken_analytics             # MongoDB database
MONGODB_USER=<MONGO_USER>                    # MongoDB user
MONGODB_PASSWORD=<MONGO_PASSWORD>            # MongoDB password

# ==== InfluxDB Configuration (Optional - Write-Only) ====
# InfluxDB is currently configured for time-series metrics WRITES only
# Read functionality is not yet implemented (see TODO in metrics.service.ts)
# All metrics queries will use PostgreSQL by default
INFLUXDB_ENABLED=false                       # Enable InfluxDB writes (set to 'true' to enable)
INFLUXDB_URL=http://localhost:8086           # InfluxDB URL
INFLUXDB_TOKEN=<INFLUXDB_TOKEN>              # InfluxDB authentication token
INFLUXDB_ORG=tickettoken                     # InfluxDB organization
INFLUXDB_BUCKET=analytics                    # InfluxDB bucket name

# ==== Optional: RabbitMQ Configuration ====
RABBITMQ_URL=amqp://localhost:5672           # RabbitMQ connection URL
RABBITMQ_EXCHANGE=tickettoken_events         # RabbitMQ exchange name
RABBITMQ_QUEUE=analytics_events              # RabbitMQ queue name

# ==== Optional: Monitoring & Logging ====
LOG_LEVEL=info                                # debug | info | warn | error
LOG_FORMAT=json                               # json | pretty
ENABLE_METRICS=true                          # Enable Prometheus metrics
METRICS_PORT=9090                            # Metrics endpoint port

# ==== Optional: Feature Flags ====
ENABLE_RATE_LIMITING=true                    # Enable rate limiting
RATE_LIMIT_WINDOW_MS=60000                  # Rate limit window (1 minute)
RATE_LIMIT_MAX_REQUESTS=100                 # Max requests per window

# ==== Environment-Specific Overrides ====
# Add any environment-specific configurations below
# These will override the defaults above based on NODE_ENV
