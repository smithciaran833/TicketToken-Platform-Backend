# ADR 003: Use RS256 for JWT Signing

## Status

Accepted

## Context

We needed to choose a JWT signing algorithm. Options:
- HS256 (symmetric)
- RS256 (asymmetric)
- ES256 (asymmetric, ECDSA)

## Decision

We chose **RS256** (RSA with SHA-256) for the following reasons:

1. **Asymmetric**: Services can verify tokens without the private key
2. **Key Distribution**: Only public key needs to be shared
3. **Security**: Private key never leaves auth service
4. **Standard**: Widely supported across languages/platforms
5. **JWKS Compatible**: Easy to expose public keys via JWKS endpoint

## Consequences

### Positive
- Other services only need public key to verify
- Key compromise is limited to auth service
- Supports key rotation via key IDs
- Industry standard approach

### Negative
- Slower than HS256 (acceptable for auth operations)
- Larger key size
- More complex key management

## Implementation
```typescript
// Signing (auth service only)
jwt.sign(payload, privateKey, { algorithm: 'RS256' });

// Verification (any service)
jwt.verify(token, publicKey, { algorithms: ['RS256'] });
```

## References

- [JWT Best Practices](https://datatracker.ietf.org/doc/html/rfc8725)
- [RS256 vs HS256](https://auth0.com/blog/rs256-vs-hs256-whats-the-difference/)
