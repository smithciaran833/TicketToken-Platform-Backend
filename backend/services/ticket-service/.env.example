# ================================================
# TICKET-SERVICE ENVIRONMENT CONFIGURATION
# ================================================
# Generated: Tue Aug 12 13:18:17 EDT 2025
# Service: ticket-service
# Port: 3004
# ================================================

# ==== REQUIRED: Core Service Configuration ====
NODE_ENV=development                    # development | staging | production
PORT=<PORT_NUMBER>         # Service port
SERVICE_NAME=ticket-service           # Service identifier

# ==== REQUIRED: Database Configuration ====
DB_HOST=localhost                       # Database host
DB_PORT=5432                           # PostgreSQL port (5432) or pgBouncer (6432)
DB_USER=postgres                       # Database user
DB_PASSWORD=<CHANGE_ME>                # Database password
DB_NAME=tickettoken_db                 # Database name
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ==== Database Connection Pool ====
DB_POOL_MIN=2                          # Minimum pool connections
DB_POOL_MAX=10                         # Maximum pool connections

# ==== REQUIRED: Redis Configuration ====
REDIS_HOST=localhost                   # Redis host
REDIS_PORT=6379                       # Redis port
REDIS_PASSWORD=<REDIS_PASSWORD>       # Redis password (if auth enabled)
REDIS_DB=0                            # Redis database number
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ==== REQUIRED: Security Configuration ====
# CRITICAL: Generate secure secrets using: openssl rand -hex 32
JWT_SECRET=<CHANGE_TO_256_BIT_SECRET>           # JWT signing secret (min 32 chars)
QR_ENCRYPTION_KEY=<CHANGE_TO_256_BIT_SECRET>   # QR code encryption key (min 32 chars)
INTERNAL_WEBHOOK_SECRET=<CHANGE_TO_256_BIT_SECRET>  # Internal webhook auth secret (min 32 chars)

# JWT Configuration
JWT_EXPIRES_IN=15m                    # Access token expiration
JWT_REFRESH_EXPIRES_IN=7d             # Refresh token expiration
JWT_ALGORITHM=HS256                   # JWT algorithm
JWT_ISSUER=tickettoken                # JWT issuer
JWT_AUDIENCE=tickettoken-platform     # JWT audience
JWT_PUBLIC_KEY_PATH=/path/to/jwt-public.pem    # Optional: Path to JWT public key for RS256

# ==== REQUIRED: Service Discovery ====
# Internal service URLs for service-to-service communication
AUTH_SERVICE_URL=http://localhost:3001
VENUE_SERVICE_URL=http://localhost:3002
EVENT_SERVICE_URL=http://localhost:3003
TICKET_SERVICE_URL=http://localhost:3004
PAYMENT_SERVICE_URL=http://localhost:3005
MARKETPLACE_SERVICE_URL=http://localhost:3008
ANALYTICS_SERVICE_URL=http://localhost:3007
NOTIFICATION_SERVICE_URL=http://localhost:3008
INTEGRATION_SERVICE_URL=http://localhost:3009
COMPLIANCE_SERVICE_URL=http://localhost:3010
QUEUE_SERVICE_URL=http://localhost:3011
SEARCH_SERVICE_URL=http://localhost:3012
FILE_SERVICE_URL=http://localhost:3013
MONITORING_SERVICE_URL=http://localhost:3014
BLOCKCHAIN_SERVICE_URL=http://localhost:3015
ORDER_SERVICE_URL=http://localhost:3016

# ==== Optional: Monitoring & Logging ====
LOG_LEVEL=info                                # debug | info | warn | error
LOG_FORMAT=json                               # json | pretty
ENABLE_METRICS=true                          # Enable Prometheus metrics
METRICS_PORT=9090                            # Metrics endpoint port

# ==== Optional: Feature Flags ====
ENABLE_RATE_LIMITING=true                    # Enable rate limiting
RATE_LIMIT_WINDOW_MS=60000                  # Rate limit window (1 minute)
RATE_LIMIT_MAX_REQUESTS=100                 # Max requests per window

# ==== Background Workers ====
CLEANUP_INTERVAL_MS=60000                   # Reservation cleanup interval (1 minute)
RESERVATION_EXPIRY_MINUTES=15               # Minutes before reservation expires

# ==== Solana/NFT Configuration (Optional) ====
SOLANA_RPC_URL=https://api.devnet.solana.com  # Solana RPC endpoint
SOLANA_NETWORK=devnet                       # devnet | mainnet-beta | testnet
SOLANA_WALLET_PRIVATE_KEY=<SOLANA_PRIVATE_KEY>  # Base58 encoded private key

# ==== RabbitMQ Configuration (Optional) ====
RABBITMQ_URL=amqp://localhost:5672         # RabbitMQ connection URL
RABBITMQ_EXCHANGE=tickettoken              # Exchange name for events

# ==== Minting Service Integration ====
MINTING_SERVICE_URL=http://localhost:3010  # Minting service URL

# ==== Environment-Specific Overrides ====
# Add any environment-specific configurations below
# These will override the defaults above based on NODE_ENV

# ================================================================================
# SECRET GENERATION GUIDE
# ================================================================================
#
# Generate secrets using OpenSSL:
#   openssl rand -hex 32  # Generates 64-character hex string (256 bits)
#
# Required secrets (MUST be unique and secure):
#   1. JWT_SECRET - Used for signing JWT tokens
#   2. QR_ENCRYPTION_KEY - Used for encrypting QR codes
#   3. INTERNAL_WEBHOOK_SECRET - Used for internal webhook authentication
#
# IMPORTANT:
#   - Never commit actual secrets to version control
#   - Use different secrets for each environment (dev/staging/prod)
#   - Rotate secrets periodically
#   - Store production secrets in secure secret management (e.g., Vault, AWS Secrets Manager)
#
# ================================================================================
